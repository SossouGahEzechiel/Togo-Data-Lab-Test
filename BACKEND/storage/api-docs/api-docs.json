{
    "openapi": "3.0.0",
    "info": {
        "title": "API Application",
        "description": "Documentation complète de l'API",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8000/api",
            "description": "Serveur de développement local"
        }
    ],
    "paths": {
        "/auth/login": {
            "post": {
                "tags": [
                    "Authentification"
                ],
                "summary": "Connexion utilisateur",
                "description": "Authentifie un utilisateur et retourne un token d'accès",
                "operationId": "8cb7742ae98d0990acb2907c4e00bf24",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "user@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Connexion réussie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserWithToken"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Identifiants invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/logout": {
            "post": {
                "tags": [
                    "Authentification"
                ],
                "summary": "Déconnexion utilisateur",
                "description": "Invalide le token d'authentification de l'utilisateur courant",
                "operationId": "0d29c740dc06d77602af8095bf4654cc",
                "responses": {
                    "200": {
                        "description": "Déconnexion réussie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SuccessResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/auth/configure-password": {
            "put": {
                "tags": [
                    "Authentification"
                ],
                "summary": "Configurer le mot de passe utilisateur",
                "description": "Met à jour le mot de passe de l'utilisateur authentifié avec des règles de sécurité strictes",
                "operationId": "4083a0a3d69807cca4afecb58ec62700",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "password": {
                                        "description": "Nouveau mot de passe (minimum 8 caractères, lettres majuscules/minuscules, chiffres et symboles)",
                                        "type": "string",
                                        "format": "password",
                                        "minLength": 8,
                                        "example": "Str0ngP@ssw0rd!"
                                    },
                                    "password_confirmation": {
                                        "description": "Confirmation du mot de passe",
                                        "type": "string",
                                        "format": "password",
                                        "example": "Str0ngP@ssw0rd!"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Mot de passe mis à jour avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données invalides ou mot de passe faible",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "password": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": [
                                                            "The password must be at least 8 characters.",
                                                            "The password must contain at least one uppercase and one lowercase letter.",
                                                            "The password must contain at least one symbol.",
                                                            "The password must contain at least one number.",
                                                            "The password confirmation does not match.",
                                                            "The given password has appeared in a data leak. Please choose a different password."
                                                        ]
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/missions": {
            "get": {
                "tags": [
                    "Missions"
                ],
                "summary": "Lister toutes les missions",
                "description": "Retourne la liste de toutes les missions triées par date de début et libellé",
                "operationId": "8535defd7bbaba602b073824e4b7bc49",
                "responses": {
                    "200": {
                        "description": "Liste des missions récupérée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Mission"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Missions"
                ],
                "summary": "Créer une nouvelle mission",
                "description": "Crée une nouvelle mission avec les informations fournies",
                "operationId": "331c4fedf7fcde3d350d6f9c256d583f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "label",
                                    "description",
                                    "from"
                                ],
                                "properties": {
                                    "label": {
                                        "description": "Libellé de la mission",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Mission de livraison urgente"
                                    },
                                    "description": {
                                        "description": "Description détaillée de la mission",
                                        "type": "string",
                                        "example": "Livraison de matériel médical vers l'hôpital central"
                                    },
                                    "from": {
                                        "description": "Date de début de la mission",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-15"
                                    },
                                    "to": {
                                        "description": "Date de fin de la mission (optionnelle)",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-20",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Mission créée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Mission"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/missions/{id}": {
            "get": {
                "tags": [
                    "Missions"
                ],
                "summary": "Afficher une mission",
                "description": "Retourne les détails d'une mission spécifique avec ses véhicules, utilisateurs et chauffeurs associés",
                "operationId": "e3e0a43094ae1c0093e0ce6cabd49c08",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID de la mission",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440000"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Mission récupérée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/MissionWithRelations"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Mission non trouvée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Missions"
                ],
                "summary": "Mettre à jour une mission",
                "description": "Met à jour les informations d'une mission existante",
                "operationId": "f3aedd3854cadb68bc96ca70a7af8668",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID de la mission",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440000"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "label",
                                    "description",
                                    "from"
                                ],
                                "properties": {
                                    "label": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Mission de livraison urgente - Mise à jour"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Livraison de matériel médical vers l'hôpital central - Priorité haute"
                                    },
                                    "from": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-16"
                                    },
                                    "to": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-22",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Mission mise à jour avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/MissionWithRelations"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Mission non trouvée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Missions"
                ],
                "summary": "Supprimer une mission",
                "description": "Supprime une mission si elle n'a pas de réservations associées",
                "operationId": "40a92f27a9ab00b081855c64d07ef2e4",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID de la mission",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440000"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Mission supprimée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SuccessResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Impossible de supprimer (réservations existantes)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Mission non trouvée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/reservations": {
            "get": {
                "tags": [
                    "Réservations"
                ],
                "summary": "Lister toutes les réservations",
                "description": "Retourne la liste de toutes les réservations triées par date de début et fin",
                "operationId": "69fb15b9890a0559eb50e5e1777d9b64",
                "responses": {
                    "200": {
                        "description": "Liste des réservations récupérée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/ReservationWithRelations"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Réservations"
                ],
                "summary": "Créer une nouvelle réservation",
                "description": "Crée une nouvelle réservation pour un véhicule et une mission",
                "operationId": "1aabc7d432cc652e63cfc3fb514132cd",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "from",
                                    "missionId",
                                    "vehicleId"
                                ],
                                "properties": {
                                    "from": {
                                        "description": "Date de début de la réservation",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-15"
                                    },
                                    "to": {
                                        "description": "Date de fin de la réservation",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-20",
                                        "nullable": true
                                    },
                                    "missionId": {
                                        "description": "UUID de la mission",
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "550e8400-e29b-41d4-a716-446655440000"
                                    },
                                    "vehicleId": {
                                        "description": "UUID du véhicule",
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "550e8400-e29b-41d4-a716-446655440001"
                                    },
                                    "driverId": {
                                        "description": "UUID du chauffeur (optionnel)",
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "550e8400-e29b-41d4-a716-446655440002",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Réservation créée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ReservationWithRelations"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/reservations/{id}": {
            "get": {
                "tags": [
                    "Réservations"
                ],
                "summary": "Afficher une réservation",
                "description": "Retourne les détails d'une réservation spécifique",
                "operationId": "4472ee4ed670cd72b7969d6e32473b92",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID de la réservation",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440003"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Réservation récupérée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ReservationWithRelations"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Réservation non trouvée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Réservations"
                ],
                "summary": "Mettre à jour une réservation",
                "description": "Met à jour complètement une réservation existante",
                "operationId": "3cb121a7272b76103c947578223bb7d5",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID de la réservation",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440003"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "from",
                                    "missionId",
                                    "vehicleId"
                                ],
                                "properties": {
                                    "from": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-16"
                                    },
                                    "to": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2024-01-21",
                                        "nullable": true
                                    },
                                    "missionId": {
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "550e8400-e29b-41d4-a716-446655440000"
                                    },
                                    "vehicleId": {
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "550e8400-e29b-41d4-a716-446655440001"
                                    },
                                    "driverId": {
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "550e8400-e29b-41d4-a716-446655440002",
                                        "nullable": true
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "En attente",
                                            "Validée",
                                            "Rejetée",
                                            "Passée"
                                        ],
                                        "example": "En attente",
                                        "nullable": true
                                    },
                                    "vehicleStatus": {
                                        "description": "Obligatoire si status est 'Passée'",
                                        "type": "string",
                                        "enum": [
                                            "available",
                                            "reserved",
                                            "suspended",
                                            "under_repair"
                                        ],
                                        "example": "available",
                                        "nullable": true
                                    },
                                    "vehicleStatusReason": {
                                        "type": "string",
                                        "maxLength": 1023,
                                        "example": "Véhicule en bon état",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Réservation mise à jour avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ReservationWithRelations"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Réservation non trouvée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Réservations"
                ],
                "summary": "Supprimer une réservation",
                "description": "Supprime une réservation existante",
                "operationId": "fa964cce3285d6c10989429c544421ca",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID de la réservation",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440003"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Réservation supprimée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SuccessResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Réservation non trouvée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/reservations/{id}/assign-driver": {
            "put": {
                "tags": [
                    "Réservations"
                ],
                "summary": "Assigner un chauffeur à une réservation",
                "description": "Assigne un chauffeur à une réservation (si elle n'est pas déjà passée)",
                "operationId": "5484313097e9fbd84225c1652e75421a",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID de la réservation",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440003"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "driverId"
                                ],
                                "properties": {
                                    "driverId": {
                                        "description": "UUID du chauffeur à assigner",
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "550e8400-e29b-41d4-a716-446655440002"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Chauffeur assigné avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ReservationWithRelations"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "La réservation est déjà passée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Réservation non trouvée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/reservations/{id}/mark-as-passed": {
            "put": {
                "tags": [
                    "Réservations"
                ],
                "summary": "Marquer une réservation comme terminée",
                "description": "Marque une réservation comme terminée et met à jour le statut du véhicule",
                "operationId": "d4b5fb44a386086ba21b46c6d5f50f99",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID de la réservation",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440003"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "vehicleStatus"
                                ],
                                "properties": {
                                    "vehicleStatus": {
                                        "description": "Nouveau statut du véhicule après la réservation",
                                        "type": "string",
                                        "enum": [
                                            "available",
                                            "reserved",
                                            "suspended",
                                            "under_repair"
                                        ],
                                        "example": "available"
                                    },
                                    "vehicleStatusReason": {
                                        "description": "Raison du statut (obligatoire si SUSPENDED ou UNDER_REPAIR)",
                                        "type": "string",
                                        "maxLength": 1023,
                                        "example": "Véhicule en bon état",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Réservation marquée comme terminée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ReservationWithRelations"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Réservation non trouvée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/reservations/{id}/apply-decision": {
            "put": {
                "tags": [
                    "Réservations"
                ],
                "summary": "Appliquer une décision sur une réservation",
                "description": "Valide ou rejette une réservation en attente. Si validée, le véhicule est marqué comme réservé et les autres réservations concurrentes sont rejetées.",
                "operationId": "fa361791d5c45f8613e5d0e21f592363",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "UUID de la réservation",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440003"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "status"
                                ],
                                "properties": {
                                    "status": {
                                        "description": "Décision à appliquer à la réservation",
                                        "type": "string",
                                        "enum": [
                                            "Validée",
                                            "Rejetée"
                                        ],
                                        "example": "Validée"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Décision appliquée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ReservationWithRelations"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Action non autorisée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "La reservation est déjà passée. Cette action n'est plus possible."
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "properties": {
                                                "message": {
                                                    "type": "string",
                                                    "example": "Le véhicule associé à la réservation n'est pas disponible."
                                                }
                                            },
                                            "type": "object"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Réservation non trouvée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/vehicles": {
            "get": {
                "tags": [
                    "Véhicules"
                ],
                "summary": "Lister tous les véhicules",
                "description": "Retourne la liste de tous les véhicules avec leurs images",
                "operationId": "d17171521b86a0b324bfa4d4f6ca1f8a",
                "responses": {
                    "200": {
                        "description": "Liste des véhicules récupérée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Vehicle"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Véhicules"
                ],
                "summary": "Créer un nouveau véhicule",
                "description": "Crée un nouveau véhicule avec éventuellement des images",
                "operationId": "e19336f3d4ff20d9858a84d5113213bc",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "brand",
                                    "model",
                                    "type",
                                    "registrationNumber",
                                    "registrationDate",
                                    "seatsCount",
                                    "status"
                                ],
                                "properties": {
                                    "brand": {
                                        "description": "Marque du véhicule",
                                        "type": "string",
                                        "maxLength": 31,
                                        "minLength": 4,
                                        "example": "Toyota"
                                    },
                                    "model": {
                                        "description": "Modèle du véhicule",
                                        "type": "string",
                                        "maxLength": 31,
                                        "minLength": 4,
                                        "example": "Corolla"
                                    },
                                    "type": {
                                        "description": "Type de véhicule",
                                        "type": "string",
                                        "enum": [
                                            "Voiture",
                                            "Moto",
                                            "Pick up",
                                            "Mini bus",
                                            "Bus"
                                        ],
                                        "example": "Voiture"
                                    },
                                    "registrationNumber": {
                                        "description": "Numéro d'immatriculation",
                                        "type": "string",
                                        "maxLength": 31,
                                        "minLength": 8,
                                        "example": "AB-123-CD"
                                    },
                                    "registrationDate": {
                                        "description": "Date de première immatriculation",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2023-01-15"
                                    },
                                    "seatsCount": {
                                        "description": "Nombre de places assises",
                                        "type": "integer",
                                        "maximum": 15,
                                        "minimum": 1,
                                        "example": 5
                                    },
                                    "status": {
                                        "description": "Statut du véhicule",
                                        "type": "string",
                                        "enum": [
                                            "Disponible",
                                            "Indisponible",
                                            "En réparation",
                                            "Réservé",
                                            "Suspendu"
                                        ],
                                        "example": "Disponible"
                                    },
                                    "reason": {
                                        "description": "Raison du statut (obligatoire si SUSPENDED ou UNDER_REPAIR)",
                                        "type": "string",
                                        "maxLength": 1023,
                                        "example": "En révision technique",
                                        "nullable": true
                                    },
                                    "images[]": {
                                        "description": "Images du véhicule (formats: jpeg, jpg, png, webp, max: 2MB)",
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        },
                                        "maxItems": 10
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Véhicule créé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Vehicle"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/vehicles/available": {
            "get": {
                "tags": [
                    "Véhicules"
                ],
                "summary": "Lister les véhicules disponibles",
                "description": "Retourne la liste des véhicules disponibles à la réservation, optionnellement filtrés par période",
                "operationId": "da3f26a8a9fa6a800609e28345a17528",
                "parameters": [
                    {
                        "name": "from",
                        "in": "query",
                        "description": "Date de début pour vérifier la disponibilité (format: YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2024-01-15"
                        }
                    },
                    {
                        "name": "to",
                        "in": "query",
                        "description": "Date de fin pour vérifier la disponibilité (format: YYYY-MM-DD)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2024-01-20"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Liste des véhicules disponibles récupérée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Vehicle"
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/vehicles/{id}": {
            "get": {
                "tags": [
                    "Véhicules"
                ],
                "summary": "Afficher un véhicule",
                "description": "Retourne les détails d'un véhicule spécifique",
                "operationId": "10887c4dacfad2ebc95acc8bcf1b7188",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID du véhicule",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Véhicule récupéré avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Vehicle"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Véhicule non trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Véhicules"
                ],
                "summary": "Mettre à jour un véhicule",
                "description": "Met à jour les informations d'un véhicule existant",
                "operationId": "5a154eaaf029bc3a95ff0cac19946fc9",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID du véhicule",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "brand",
                                    "model",
                                    "type",
                                    "registrationNumber",
                                    "registrationDate",
                                    "seatsCount",
                                    "status"
                                ],
                                "properties": {
                                    "brand": {
                                        "type": "string",
                                        "maxLength": 31,
                                        "minLength": 4,
                                        "example": "Toyota"
                                    },
                                    "model": {
                                        "type": "string",
                                        "maxLength": 31,
                                        "minLength": 4,
                                        "example": "Corolla Hybrid"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "car",
                                            "motorcycle",
                                            "truck",
                                            "van",
                                            "bus"
                                        ],
                                        "example": "car"
                                    },
                                    "registrationNumber": {
                                        "type": "string",
                                        "maxLength": 31,
                                        "minLength": 8,
                                        "example": "AB-123-CD"
                                    },
                                    "registrationDate": {
                                        "type": "string",
                                        "format": "date",
                                        "example": "2023-01-15"
                                    },
                                    "seatsCount": {
                                        "type": "integer",
                                        "maximum": 15,
                                        "minimum": 1,
                                        "example": 5
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "available",
                                            "reserved",
                                            "suspended",
                                            "under_repair"
                                        ],
                                        "example": "available"
                                    },
                                    "reason": {
                                        "type": "string",
                                        "maxLength": 1023,
                                        "example": "Véhicule en maintenance",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Véhicule mis à jour avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Vehicle"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Données invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Véhicule non trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreur de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Véhicules"
                ],
                "summary": "Supprimer un véhicule",
                "description": "Supprime un véhicule et ses images associées",
                "operationId": "6c00c88c53d96dd1f08e69ba6d6484a1",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID du véhicule",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Véhicule supprimé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SuccessResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Impossible de supprimer (réservations existantes)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Véhicule non trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Erreur interne du serveur",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "SuccessResponse": {
                "properties": {
                    "message": {
                        "type": "string",
                        "example": "Opération réussie"
                    }
                },
                "type": "object"
            },
            "ErrorResponse": {
                "properties": {
                    "message": {
                        "type": "string",
                        "example": "Une erreur est survenue"
                    },
                    "errors": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                },
                "type": "object"
            },
            "Image": {
                "title": "Image",
                "description": "Schéma de données d'une image",
                "required": [
                    "path"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "example": "d4fb2906-11b7-4512-a292-1ec5d46351e2"
                    },
                    "path": {
                        "description": "Chemin d'accès à l'image",
                        "type": "string",
                        "example": "path/to/file.jpg"
                    }
                },
                "type": "object"
            },
            "Mission": {
                "description": "Schéma de base d'une mission",
                "required": [
                    "id",
                    "label",
                    "description",
                    "from"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "label": {
                        "type": "string",
                        "example": "Mission de livraison urgente"
                    },
                    "description": {
                        "type": "string",
                        "example": "Livraison de matériel médical"
                    },
                    "from": {
                        "type": "string",
                        "format": "date",
                        "example": "2024-01-15"
                    },
                    "to": {
                        "type": "string",
                        "format": "date",
                        "example": "2024-01-20",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "MissionWithRelations": {
                "description": "Mission avec toutes ses relations",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/Mission"
                    },
                    {
                        "properties": {
                            "vehicles": {
                                "description": "Véhicules affectés à la mission",
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/Vehicle"
                                },
                                "nullable": true
                            },
                            "author": {
                                "description": "Utilisateurs ayant fait des réservations pour la mission",
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/User"
                                },
                                "nullable": true
                            },
                            "drivers": {
                                "description": "Chauffeurs affectés à la mission",
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/User"
                                },
                                "nullable": true
                            }
                        },
                        "type": "object"
                    }
                ]
            },
            "Reservation": {
                "description": "Schéma de base d'une réservation",
                "required": [
                    "id",
                    "from",
                    "missionId",
                    "vehicleId",
                    "userId",
                    "status"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "example": "550e8400-e29b-41d4-a716-446655440003"
                    },
                    "from": {
                        "type": "string",
                        "format": "date",
                        "example": "2024-01-15"
                    },
                    "to": {
                        "type": "string",
                        "format": "date",
                        "example": "2024-01-20",
                        "nullable": true
                    },
                    "missionId": {
                        "type": "string",
                        "format": "uuid",
                        "example": "550e8400-e29b-41d4-a716-446655440000"
                    },
                    "vehicleId": {
                        "type": "string",
                        "format": "uuid",
                        "example": "550e8400-e29b-41d4-a716-446655440001"
                    },
                    "driverId": {
                        "type": "string",
                        "format": "uuid",
                        "example": "550e8400-e29b-41d4-a716-446655440002",
                        "nullable": true
                    },
                    "userId": {
                        "type": "string",
                        "format": "uuid",
                        "example": "550e8400-e29b-41d4-a716-446655440004"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "En attente",
                            "Validée",
                            "Rejetée",
                            "Passée"
                        ],
                        "example": "En attente"
                    },
                    "returnDate": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-20T15:30:00Z",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "ReservationWithRelations": {
                "description": "Réservation avec toutes ses relations",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/Reservation"
                    },
                    {
                        "properties": {
                            "mission": {
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/Mission"
                                    }
                                ],
                                "nullable": true
                            },
                            "vehicle": {
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/Vehicle"
                                    }
                                ],
                                "nullable": true
                            },
                            "driver": {
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/User"
                                    }
                                ],
                                "nullable": true
                            },
                            "user": {
                                "oneOf": [
                                    {
                                        "$ref": "#/components/schemas/User"
                                    }
                                ],
                                "nullable": true
                            }
                        },
                        "type": "object"
                    }
                ]
            },
            "User": {
                "title": "Utilisateur",
                "description": "Schéma de données d'un utilisateur",
                "required": [
                    "id",
                    "firstName",
                    "lastName",
                    "email",
                    "role",
                    "isActive"
                ],
                "properties": {
                    "id": {
                        "format": "uuid",
                        "example": "123e4567-e89b-12d3-a456-426655440000"
                    },
                    "firstName": {
                        "type": "string",
                        "example": "John"
                    },
                    "lastName": {
                        "type": "string",
                        "example": "Doe"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "example": "john.doe@example.com"
                    },
                    "role": {
                        "type": "string",
                        "enum": [
                            "admin",
                            "user",
                            "moderator"
                        ],
                        "example": "user"
                    },
                    "phone": {
                        "type": "string",
                        "example": "+33123456789",
                        "nullable": true
                    },
                    "isActive": {
                        "type": "boolean",
                        "example": true
                    },
                    "hasConfiguredPassword": {
                        "type": "boolean",
                        "example": false
                    },
                    "image": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/Image"
                            }
                        ],
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "UserWithToken": {
                "title": "Utilisateur avec token",
                "description": "Schéma de données d'un utilisateur avec token d'authentification",
                "allOf": [
                    {
                        "$ref": "#/components/schemas/User"
                    },
                    {
                        "properties": {
                            "token": {
                                "description": "Token d'authentification Bearer",
                                "type": "string",
                                "example": "9a0866e5-649f-4fd0-88f1-259337e3b603|abcdefgh1234567890"
                            }
                        },
                        "type": "object"
                    }
                ]
            },
            "Vehicle": {
                "description": "Schéma de données d'un véhicule",
                "required": [
                    "id",
                    "brand",
                    "model",
                    "type",
                    "registrationNumber",
                    "registrationDate",
                    "seatsCount",
                    "status"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid",
                        "example": "550e8400-e29b-41d4-a716-446655440001"
                    },
                    "brand": {
                        "type": "string",
                        "example": "Toyota"
                    },
                    "model": {
                        "type": "string",
                        "example": "Corolla"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "car",
                            "motorcycle",
                            "truck",
                            "van",
                            "bus"
                        ],
                        "example": "car"
                    },
                    "registrationNumber": {
                        "type": "string",
                        "example": "AB-123-CD"
                    },
                    "registrationDate": {
                        "type": "string",
                        "format": "date",
                        "example": "2023-01-15"
                    },
                    "seatsCount": {
                        "type": "integer",
                        "example": 5
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "available",
                            "reserved",
                            "suspended",
                            "under_repair"
                        ],
                        "example": "available"
                    },
                    "reason": {
                        "type": "string",
                        "example": "En révision technique",
                        "nullable": true
                    },
                    "images": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Image"
                        },
                        "nullable": true
                    },
                    "reservations": {
                        "description": "Réservations associées au véhicule",
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Reservation"
                        },
                        "nullable": true
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "description": "Authentification par token Bearer",
                "bearerFormat": "token",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Missions",
            "description": "Gestion des missions"
        },
        {
            "name": "Réservations",
            "description": "Gestion des réservations de véhicules"
        },
        {
            "name": "Véhicules",
            "description": "Gestion des véhicules"
        },
        {
            "name": "Authentification",
            "description": "Authentification"
        }
    ]
}